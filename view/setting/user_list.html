<!-- Main content -->
<section class="content">
    <div class="box box-default" ng-class="{'loading': isLoading}"  st-table="data" st-pipe="list">
        <div class="box-header">
            <h3 class="box-title">用户列表</h3>
            <nr-breadcrumb></nr-breadcrumb>
        </div>
        <!-- /.box-header -->
        <div class="box-body">
            <div class="border-none row">
                <div class="col-sm-4">
                    <div class="input-group  margin-bottom">
                        <span class="input-group-addon ">用户名</span>
                        <input ng-model="paras.searchMap.account" type="text" class="form-control"/>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="input-group  margin-bottom">
                        <span class="input-group-addon ">真实姓名</span>
                        <input ng-model="paras.searchMap.name" type="text" class="form-control"/>
                    </div>
                </div>

            </div>

            <div class="border-none row">
                <div class="col-sm-4">
                    <div class="input-group  margin-bottom">
                        <span class="input-group-addon ">手机号</span>
                        <input ng-model="paras.searchMap.phone" type="text" class="form-control"/>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="input-group  margin-bottom">
                        <span class="input-group-addon">状 &nbsp; 态</span>
                            <select class="form-control" ng-model="paras.searchMap.isValid" ng-options="v.key as v.value for v in config.isValid">
                            </select>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="">
                        <!--<button class="btn btn-normal form-control">搜索</button>-->
                        <button class="btn btn-normal" st-action>查询</button>
                        <button class="btn btn-op" ng-click="reset()">重置</button>
                    </div>
                </div>
            </div>

            <div class="box-operation">
                <div class="operation-wrap">
                    <a class="btn btn-normal" href="/user/create"><i class="fa fa-plus"></i>新 增</a>
                    <!-- <button class="btn btn-op" batch-op="{'data':data ,'title':'注意','content':'确定删除用户？', 'callback':remove}" ng-click="remove()"><i class="fa fa-remove" ></i>删 除</button> -->
                    <button class="btn btn-op" ng-click="remove()"><i class="fa fa-remove" ></i>删 除</button>
                    <button class="btn btn-op" batch-op="{'data':data ,'title':'注意','content':'确定重置用户？', 'callback':reset_account}"><i class="fa fa-key"></i>重置</button>
                </div>
            </div>
            <div class="">
            <table class="table table-bordered table-striped" st-table="users">
                <thead>
                <tr>
                    <th>
                        <label>
                            <input type="checkbox" name="" ng-click="handler.toggle()" ng-model="paras.checkall"> 
                            <i></i> 
                        </label> 
                    </th>
                    <!--<th cs-select="row"></th>-->
                    <th>操作</th>
                    <th>用户名</th>
                    <th>真实姓名</th>
                    <th>手机号</th>
                    <!--<th>用户类型</th>-->
                    <th>状态</th>
                    <th>创建时间</th>
                    <th>最后登录时间</th>
                    <th>IP</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="u in data ">
                    <td>
                        <label>
                            <input type="checkbox" name="" ng-click="handler.check()" ng-model="u.checked"> 
                            <i></i> 
                        </label> 
                    </td>
                    <td>
                        <a href="/user/{{u.id}}" class="">编辑</a>
                    </td>
                    <td><span>{{u.account}}</span></td>
                    <td><span ng-bind="u.name"></span></td>
                    <td><span ng-bind="u.phone"></span></td>
                    <!--<td><span ng-bind="u.userType"></span></td>-->
                    <td><span>{{isValid[u.isValid]}}</span></td>
                    <td><span ng-bind="u.createTime"></span></td>
                    <td><span ng-bind="u.lastLoginTime"></span></td>
                    <td><span ng-bind="u.lastLoginIp"></span></td>
                </tr>
                </tbody>
            </table>
            <div class="box-page row">
                    <div class="col-sm-5 page-info">
                        <label>共 <span ng-bind="paras.pageCount"></span> 条 每页显示
                            <select class="input-sm" ng-model="paras.pageSize" ng-options="id for id in config.page_size_options"></select>
                        </label>
                    </div>
                    <div class="col-sm-7">
                        <div class="table-page" st-pagination="" st-items-by-page="paras.pageSize"></div>
                    </div>
                </div>
            </div>
        </div>
        <!-- /.box-body -->
    </div>
</section>
